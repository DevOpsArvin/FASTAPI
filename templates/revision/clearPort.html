<!DOCTYPE html>
<html>
<head>
    <title>Search Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
        
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    
    <!-- Add Bootstrap JS (Popper.js and Bootstrap JS) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>


    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" href="/static/style.css">

   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <style>
        .short-select {
            width: 195px; /* Adjust this value to set the desired width */
        }
    </style>

<style>
    .btn-icon {
        background-color: transparent;
        border: none;
    }
</style>


<!--
    <script>
        // Disable browser back keys
        history.pushState(null, null, location.href);
        window.onpopstate = function () {
            history.go(1);
        };
    </script>
-->



</head>
<body>

<!-- Open Modal Manual Process -->
                <td><!-- FLOOR -->
                    <a href="#" data-bs-toggle="modal" data-bs-target="#showRow_">{{ row[0] }}</a>
                </td>

<!-- Modal Manual Process -->
    <div class="modal fade" id="showRow_" data-bs-backdrop="static" data-bs-keyboard="false"  aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">Processing {{ row[4] }} Floor, IDRox :{{ row[0] }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">

                    <!-- To Process View-->
                        <div class="d-grid gap-2 col-10 mx-auto">
                    <!-- Row 1 -->
                            <div class="row g-2">

                                <div class="col-sm">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="floatingInput" value="{{ row[1] }}" readonly>
                                        <label for="floatingInput">Station</label>
                                    </div>
                                </div>
                                <div class="col-sm">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="floatingInput" value="10.16.0.{{ row[2] }}" >
                                        <label for="floatingInput">Host</label>
                                    </div>
                                </div>
                                <div class="col-sm">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="floatingInput" value="{{ row[3] }}" >
                                        <label for="floatingInput">Interface</label>
                                    </div>
                                </div>

                            </div>

                    <!-- Row 2 -->
                            <div class="row g-2">
                                <div class="col-sm">
                                    <div class="form-floating mb-3">
                                        <input type="text" class="form-control" id="floatingInput" value="{{ row[6] }}" readonly>
                                        <label for="floatingInput">Location</label>
                                    </div>
                                </div>
                            </div>
                        </div> 


                    <form method="POST" action="/process_manual">

                        <input type="hidden" name="floor" value="{{ row[4] }}">
                        <input type="hidden" name="idrow" value="{{ row[0] }}">
                        <input type="hidden" name="station" value="{{ row[1] }}">
                        <input type="hidden" name="port" value="{{ row[2] }}">
                        <input type="hidden" name="interface" value="{{ row[3] }}">
                        <input type="hidden" name="location" value="{{ row[6] }}">
                        <input type="hidden" name="loginU_var" value="{{ loginU_var }}">

                        <div class="card card-body">



                            <div class="form-floating">
                                <div class="row g-2 justify-content-center"> <!-- Added justify-content-center -->

                                    <div class="col-sm d-flex flex-column align-items-center justify-content-center">
                                        <div class="form-floating mb-3">
                                            {% if resultsVLAN %}  
                                                <select class="form-select short-select" id="select_Vlan_manual" aria-label="Floating label select">
                                                    <option selected>Select VLAN</option>
                                                    {% for row in resultsVLAN %}
                                                        <option value="{{ row[1] }}">{{row[1]}} - {{row[2]}}</option>
                                                    {% endfor %}
                                                </select>
                                            {% endif %}
                                            <label for="select_Vlan">Select VLAN</label>
                                            <input type="number" id="VLANCustom_manual" name="VLANCustom" class="form-control short-select" min="0" max="4095" readonly />
                                        </div>

                                        <div class="col">
                                            <button type="submit" id="submitButton_manual2" class="btn btn-primary btn-block" disabled>Change VLAN</button>
                                        </div>
                                        
                                    </div>

                                    <div class="col-sm d-flex flex-column align-items-center justify-content-center">
                                        <div class="form-floating mb-3">
                                            {% if resultsVoice %}  
                                                <select class="form-select short-select" id="select_Vlan_manual_2" aria-label="Floating label select">
                                                    <option selected>Select Voice</option>
                                                    {% for row in resultsVoice %}
                                                        <option value="{{ row[1] }}">{{row[1]}} - {{row[2]}}</option>
                                                    {% endfor %}
                                                </select>
                                            {% endif %}
                                            <label for="select_Voice_2">Select Voice</label>
                                            <input type="number" id="VLANCustom_manual_2" name="VLANCustom_2" class="form-control short-select" min="0" max="4095" readonly />
                                        
                                        </div>

                                        <div class="col">
                                            <button type="submit" id="submitButton_manual3" class="btn btn-primary" disabled>Change Voice</button>
                                        </div>
                                    </div>

                                </div>
                            </div>

                               

                            <div class="col-sm d-flex flex-column align-items-center justify-content-center">
                                <div class="col">
                                    <button type="submit" id="submitButton_manual1" class="btn btn-primary" disabled>Clear Port</button>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
<!-- Modal Manual Process -->
    <script>
        function selectFunc_manual() {
            var selectedValue = document.getElementById("select_Vlan_manual").value;
            document.getElementById("VLANCustom_manual").value = selectedValue;
            var button = document.getElementById("submitButton_manual2");

            if (selectedValue === "000") {
                document.getElementById("VLANCustom_manual").readOnly = false;

                if (document.getElementById("VLANCustom_manual").value === "") {
                    button.disabled = true;
                } else {
                    button.disabled = false;
                }
            } else {
                document.getElementById("VLANCustom_manual").readOnly = true;
                button.disabled = false;
            }

            // Toggle button class between btn-secondary and btn-primary
            if (button.disabled) {
                button.classList.remove("btn-primary");
                button.classList.add("btn-secondary");
            } else {
                button.classList.remove("btn-secondary");
                button.classList.add("btn-primary");
            }
        }

        document.getElementById("select_Vlan_manual").addEventListener("change", selectFunc_manual);
    </script>
<!-- Modal Manual Process -->


</body>
</html>
